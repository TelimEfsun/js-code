<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mouse Nöqtə Testi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-dark text-white position-relative vh-100">

  <div class="position-absolute top-0 start-0 m-3 fs-4 fw-bold" id="counter">
    Kliklər: 0
  </div>

  <div class="position-absolute top-0 end-0 m-3 fs-4 fw-bold" id="timer">
    Zaman: 30s
  </div>

  <div id="result" class="d-none position-absolute top-50 start-50 translate-middle text-center">
    <h1 class="text-warning">Zaman bitdi!</h1>
    <h2 id="finalCount">Klik sayı: 0</h2>
  </div>

  <script>
    const counterDisplay = document.getElementById('counter');
    const timerDisplay = document.getElementById('timer');
    const resultDisplay = document.getElementById('result');
    const finalCount = document.getElementById('finalCount');

    let clickCount = 0;
    let started = false;
    let timeLeft = 30;
    let timerInterval = null;

    function startTimer() {
      timerInterval = setInterval(() => {
        timeLeft--;
        timerDisplay.textContent = `Zaman: ${timeLeft}s`;

        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          document.querySelectorAll('.dot').forEach(dot => dot.remove());
          resultDisplay.classList.remove('d-none');
          finalCount.textContent = `Klik sayı: ${clickCount}`;
        }
      }, 1000);
    }

    function spawnDot() {
      const dot = document.createElement('div');
      dot.classList.add('dot', 'position-absolute');

      const maxX = window.innerWidth - 40;
      const maxY = window.innerHeight - 40;
      const x = Math.random() * maxX;
      const y = Math.random() * maxY;

      dot.style.left = `${x}px`;
      dot.style.top = `${y}px`;

      dot.addEventListener('click', () => {
        if (!started) {
          started = true;
          startTimer();
        }

        clickCount++;
        counterDisplay.textContent = `Kliklər: ${clickCount}`;
        dot.remove();

        if (timeLeft > 0) {
          spawnDot();
        }
      });

      document.body.appendChild(dot);
    }

    spawnDot();
  </script>

</body>
</html>
